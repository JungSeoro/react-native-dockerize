version: '3.5'
services:
  react-native:
    container_name: react-native
    image: jungseoro/react-native:node18-java11
    stdin_open: true
    tty: true   
    volumes:
    - ../:/vol
    command: |
      sh -c 'adb pair "${DEVICE_IP}":"${PAIR_PORT}" "${PAIR_CODE}" \
      && adb connect "${DEVICE_IP}":"${DEVICE_PORT}" \
      && cd /vol \
      && npm install \
      && tail -f /dev/null'
      #&& npx react-native start --reset-cache'
